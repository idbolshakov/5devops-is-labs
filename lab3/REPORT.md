# Отчет по практической части лабораторной работы №3

## Часть 1

### 1.1 Добавьте в виртуальную машину с операционной системой Linux виртуальный жесткий диск (делается это в настройках виртуальной машины).
![3.1.1](./screenshots/3_1/1.png)

### 1.2 Запустите виртуальную машину с операционной системой Linux.
Запуск виртуальной машины осуществлялся из графического интерфейса программы `VirtualBox`.

### 1.3 Ознакомьтесь с командой fdisk и ее возможностями из справочной документации.
![3.1.3](./screenshots/3_1/3.png)

### 1.4 Создайте таблицу разделов (3 первичных и 1 логический) с помощью команды fdisk на добавленном виртуальном диске (обычно это диск /dev/sdb).
![3.1.4.1](./screenshots/3_1/4.1.png)
![3.1.4.2](./screenshots/3_1/4.2.png)

### 1.5 Запишите изменения на диск
![3.1.5](./screenshots/3_1/5.png)

### 1.6 Проверьте факт создания разделов используя команду fdisk. ( Так же, создание разделов можно проверить используя команду ls /dev/sd* )
![3.1.6](./screenshots/3_1/6.png)


### 1.7 Отформатируйте созданные разделы в файловую систему ext4.
![3.1.7](./screenshots/3_1/7.png)


### 1.8 Ознакомьтесь с командами mount и umount и их возможностями из справочной документации.
Ознакомление с командами `mount` и `umount` выполнялось с помощью команд:

* `man mount`
* `main umount`

### 1.9 Смонтируйте созданные разделы и создайте там произвольные файлы.
![3.1.9.1](./screenshots/3_1/9.1.png)
![3.1.9.2](./screenshots/3_1/9.2.png)

### 1.10 Сделайте резервную копию MBR с помощью утилиты DD.
![3.1.10](./screenshots/3_1/10.png)

### 1.11 Сотрите таблицу разделов MBR с помощью утилиты DD.
![3.1.11](./screenshots/3_1/11.png)

### 1.12 Восстановите MBR с помощью утилиты DD.
![3.1.12](./screenshots/3_1/12.png)

### 1.13 Смонтируйте разделы и проверьте целостность данных.
![3.1.13](./screenshots/3_1/13.png)

### 1.14 Отмонтируйте разделы.
Отмонтирование разделов произведено с помощью команды `umount`:

```sh
sudo umount /mnt/sdb1;
sudo umount /mnt/sdb2;
sudo umount /mnt/sdb5;
```

### 1.15 Установите gdisk ( sudo apt-get install gdisk )
![3.1.1.15](./screenshots/3_1/15.png)

### 1.16 Создайте таблицу разделов GPT (5 первичных разделов) с помощью gdisk.
![3.1.16.1](./screenshots/3_1/16.1.png)
![3.1.16.2](./screenshots/3_1/16.2.png)

### 1.17 Отформатируйте созданные разделы в файловую систему ext3.
![3.1.17](./screenshots/3_1/17.png)

### 1.18 Смонтируйте созданные разделы и создайте там произвольные файлы.
![3.1.18.1](./screenshots/3_1/18.1.png)
![3.1.18.2](./screenshots/3_1/18.2.png)


### 1.19 Сделайте резервную копию GPT с помощью утилиты DD, предварительно определив необходимое количество байт для резервной копии.
![3.1.19](./screenshots/3_1/19.png)

### 1.20 Сотрите GPT с помощью утилиты DD.
![3.1.20.1](./screenshots/3_1/20.1.png)
![3.1.20.2](./screenshots/3_1/20.2.png)

### 1.21 Восстановите GPT с помощью утилиты DD.
![3.1.21](./screenshots/3_1/21.png)

### 1.22 Смонтируйте разделы и проверьте целостность данных.
![3.1.22.1](./screenshots/3_1/22.1.png)
![3.1.22.2](./screenshots/3_1/22.2.png)

### 1.23 Отмонтируйте разделы.
Отмонтирование разделов произведено с помощью команды `umount`:

```sh
sudo umount /mnt/sdb1;
sudo umount /mnt/sdb2;
sudo umount /mnt/sdb3;
sudo umount /mnt/sdb4;
sudo umount /mnt/sdb5;
```

### 1.24 Определите достоинства и недостатки таблиц разделов MBR и GPT.
#### MBR (Master Boot Record)  
Достоинства:  

- Совместимость: Поддерживается большинством старых операционных систем и BIOS.  
- Простота: Легкость в управлении и понимании структуры.  

Недостатки:  

- Ограничение размера диска: Поддерживает диски до 2 ТБ.  
- Максимальное количество основных разделов: До 4 первичных разделов (можно обойти через расширенный раздел).  
- Уязвимость: Если MBR повреждается, загрузка системы становится невозможной.  


#### GPT (GUID Partition Table)  
Достоинства:  

- Большой размер дисков: Поддерживает диски размером свыше 2 ТБ.  
- Количество разделов: Теоретически поддерживает до 128 разделов (зависит от ОС).  
- Надежность: Хранятся несколько копий таблицы разделов, что снижает риск потери данных.  
- UEFI: Полная поддержка UEFI, что обеспечивает улучшенную безопасность и скорость загрузки.  

Недостатки: 
 
- Несовместимость: Старые системы с BIOS могут не поддерживать GPT.  
- Сложнее управление: Более сложная структура требует специализированных инструментов для работы.


## Часть 2

### 2.1 Добавьте в виртуальную машину виртуальный жесткий диск.
![3.2.1](./screenshots/3_2/1.png)

### 2.2 Запустите виртуальную машину с Linux.
Запуск виртуальной машины осуществлялся из графического интерфейса программы `VirtualBox`.

### 2.3 Запустите fdisk (gdisk или parted) и создайте таблицу разделов MBR с разделами.
![3.2.3](./screenshots/3_2/3.png)

### 2.4 Отформатируйте созданные разделы в файловую систему ext4.
![3.2.4](./screenshots/3_2/4.png)

### 2.5 Установите TestDisk.
Установка производилась с помощью команды `sudo apt install testdisk`

### 2.6 Удалите MBR (или таблицу разделов) с помощью команды DD.
![3.2.6](./screenshots/3_2/6.png)

### 2.7 Восстановите MBR (или таблицу разделов) с помощью TestDisk.
![3.2.7](./screenshots/3_2/7.png)

### 2.8 Смонтируйте восстановленные разделы и создайте там произвольные файлы.
![3.2.8](./screenshots/3_2/8.png)

### 2.9 Удалите созданные файлы.
![3.2.9](./screenshots/3_2/9.png)

### 2.10 С помощью TestDisk восстановите данные.
![3.2.10](./screenshots/3_2/10.png)

### 2.11 Создайте произвольный каталог и запишите туда данные каталога /var/log/ .
![3.2.11](./screenshots/3_2/11.png)


### 2.12 Удалите данные с созданного каталога.
Удаление производилось командой `rm`:

```sh
rm sdb_gpt_backup2;
```

### 2.13 С помощью PhotoRec восстановит  данные.
![3.2.13](./screenshots/3_2/13.png)

